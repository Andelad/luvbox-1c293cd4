/* Typography System - Font Loading, Scales, and Text Classes */

/* Optimized font loading with font-display: swap for better performance */
@import url('https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,500;0,600;1,600&family=Source+Sans+3:wght@400;500;600&family=Spline+Sans+Mono:ital,wght@1,400&display=swap') layer(fonts);

/**
 * Base typography. This is not applied to elements which have an ancestor with a Tailwind text class.
 */
@layer base {
  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) {
    h1 {
      font-family: 'EB Garamond', serif;
      font-size: var(--text-2xl);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
      color: var(--text-color);
    }

    h2 {
      font-family: 'EB Garamond', serif;
      font-size: var(--text-xl);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
      color: var(--text-color);
    }

    h3 {
      font-family: 'EB Garamond', serif;
      font-size: var(--text-lg);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
      color: var(--text-color);
    }

    h4 {
      font-family: 'Source Sans 3', sans-serif;
      font-size: var(--text-base);
      font-weight: var(--font-weight-semibold);
      line-height: 1.5;
      color: var(--text-color);
    }

    p {
      font-family: 'Source Sans 3', sans-serif;
      font-size: var(--text-base);
      font-weight: var(--font-weight-normal);
      line-height: 1.5;
      color: var(--text-color);
    }

    label {
      font-family: 'Source Sans 3', sans-serif;
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
      color: var(--text-color);
    }

    button {
      font-family: 'Source Sans 3', sans-serif;
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
      color: var(--text-color);
    }

    input {
      font-family: 'Source Sans 3', sans-serif;
      font-size: var(--text-base);
      font-weight: var(--font-weight-normal);
      line-height: 1.5;
      color: var(--text-color);
    }
  }
}

/* Responsive Root Font Size System - Critical for typography system */
html {
  /* Base: 14px on small screens */
  font-size: 14px;
}

/* Scale up to 16px on larger screens */
@media (min-width: 768px) {
  html {
    font-size: 16px;
  }
}

:root {
  /* Responsive Root Font Size System - Critical for typography system */
  /* This will be applied in base.css but defined here for reference */
  /* Base: 14px on small screens, scales to 16px on larger screens */

  /* Font Weight System */
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;

  /* Typography System - App Scale (compact for app interface) */
  /* Scales with root font-size: 14px mobile → 16px desktop */
  --app-text-xs: 0.75rem;    /* 10.5px → 12px */
  --app-text-sm: 0.875rem;   /* 12.25px → 14px */
  --app-text-base: 1rem;     /* 14px → 16px */
  --app-text-lg: 1.125rem;   /* 15.75px → 18px */
  --app-text-xl: 1.25rem;    /* 17.5px → 20px */
  --app-text-2xl: 1.5rem;    /* 21px → 24px */
  --app-text-3xl: 1.875rem;  /* 26.25px → 30px */

  --app-leading-xs: 1rem;      /* 14px → 16px */
  --app-leading-sm: 1.25rem;   /* 17.5px → 20px */
  --app-leading-base: 1.5rem;  /* 21px → 24px */
  --app-leading-lg: 1.75rem;   /* 24.5px → 28px */
  --app-leading-xl: 1.875rem;  /* 26.25px → 30px */
  --app-leading-2xl: 2rem;     /* 28px → 32px */
  --app-leading-3xl: 2.25rem;  /* 31.5px → 36px */

  /* Typography System - Website Scale (larger for website content) */
  /* Scales with root font-size: 14px mobile → 16px desktop */
  --web-text-xs: 1rem;      /* 14px → 16px */
  --web-text-sm: 1.125rem;  /* 15.75px → 18px */
  --web-text-base: 1.25rem; /* 17.5px → 20px */
  --web-text-lg: 1.375rem;  /* 19.25px → 22px */
  --web-text-xl: 1.625rem;  /* 22.75px → 26px */
  --web-text-2xl: 2rem;     /* 28px → 32px */
  --web-text-3xl: 2.5rem;   /* 35px → 40px */
  --web-text-4xl: 3.25rem;  /* 45.5px → 52px */

  --web-leading-xs: 1.5rem;    /* 21px → 24px */
  --web-leading-sm: 1.75rem;   /* 24.5px → 28px */
  --web-leading-base: 2rem;    /* 28px → 32px */
  --web-leading-lg: 2.125rem;  /* 29.75px → 34px */
  --web-leading-xl: 2.375rem;  /* 33.25px → 38px */
  --web-leading-2xl: 2.75rem;  /* 38.5px → 44px */
  --web-leading-3xl: 3.25rem;  /* 45.5px → 52px */
  --web-leading-4xl: 4rem;     /* 56px → 64px */

  /* Monospace Scale - 90% of equivalent Source Sans sizes */
  /* Rule: Spline Sans Mono should be 90% of Source Sans 3 for visual balance */
  --app-mono-xs: calc(var(--app-text-xs) * 0.9);     /* 90% of app-xs */
  --app-mono-sm: calc(var(--app-text-sm) * 0.9);     /* 90% of app-sm */
  --app-mono-base: calc(var(--app-text-base) * 0.9); /* 90% of app-base */
  --app-mono-lg: calc(var(--app-text-lg) * 0.9);     /* 90% of app-lg */
  --app-mono-xl: calc(var(--app-text-xl) * 0.9);     /* 90% of app-xl */
  --app-mono-2xl: calc(var(--app-text-2xl) * 0.9);   /* 90% of app-2xl */
  --app-mono-3xl: calc(var(--app-text-3xl) * 0.9);   /* 90% of app-3xl */

  --web-mono-xs: calc(var(--web-text-xs) * 0.9);     /* 90% of web-xs */
  --web-mono-sm: calc(var(--web-text-sm) * 0.9);     /* 90% of web-sm */
  --web-mono-base: calc(var(--web-text-base) * 0.9); /* 90% of web-base */
  --web-mono-lg: calc(var(--web-text-lg) * 0.9);     /* 90% of web-lg */
  --web-mono-xl: calc(var(--web-text-xl) * 0.9);     /* 90% of web-xl */
  --web-mono-2xl: calc(var(--web-text-2xl) * 0.9);   /* 90% of web-2xl */
  --web-mono-3xl: calc(var(--web-text-3xl) * 0.9);   /* 90% of web-3xl */
  --web-mono-4xl: calc(var(--web-text-4xl) * 0.9);   /* 90% of web-4xl */
}

/* App Typography Classes */
.text-app-display {
  font-family: 'EB Garamond', serif;
  font-size: var(--app-text-3xl);
  line-height: var(--app-leading-3xl);
  font-weight: var(--font-weight-semibold);
}

.text-app-heading {
  font-family: 'Source Sans 3', sans-serif;
  font-size: var(--app-text-2xl);
  line-height: var(--app-leading-2xl);
  font-weight: var(--font-weight-semibold);
}

.text-app-subheading {
  font-family: 'Source Sans 3', sans-serif;
  font-size: var(--app-text-xl);
  line-height: var(--app-leading-xl);
  font-weight: var(--font-weight-medium);
}

.text-app-body {
  font-family: 'Source Sans 3', sans-serif;
  font-size: var(--app-text-base);
  line-height: var(--app-leading-base);
  font-weight: var(--font-weight-normal);
  opacity: 0.8;
}

.text-app-caption {
  font-family: 'Source Sans 3', sans-serif;
  font-size: var(--app-text-sm);
  line-height: var(--app-leading-sm);
  font-weight: var(--font-weight-normal);
  opacity: 0.8;
}

.text-app-code {
  font-family: 'Spline Sans Mono', monospace;
  font-size: var(--app-mono-sm);
  line-height: var(--app-leading-sm);
  font-weight: var(--font-weight-normal);
}

/* Website Typography Classes */
.text-web-hero {
  font-family: 'EB Garamond', serif;
  font-size: var(--web-text-4xl);
  line-height: var(--web-leading-4xl);
  font-weight: var(--font-weight-semibold);
}

.text-web-heading-1 {
  font-family: 'EB Garamond', serif;
  font-size: var(--web-text-3xl);
  line-height: var(--web-leading-3xl);
  font-weight: var(--font-weight-semibold);
}

.text-web-heading-2 {
  font-family: 'Source Sans 3', sans-serif;
  font-size: var(--web-text-2xl);
  line-height: var(--web-leading-2xl);
  font-weight: var(--font-weight-semibold);
}

.text-web-heading-3 {
  font-family: 'Source Sans 3', sans-serif;
  font-size: var(--web-text-xl);
  line-height: var(--web-leading-xl);
  font-weight: var(--font-weight-medium);
}

.text-web-body {
  font-family: 'Source Sans 3', sans-serif;
  font-size: var(--web-text-base);
  line-height: var(--web-leading-base);
  font-weight: var(--font-weight-normal);
  opacity: 0.8;
}

.text-web-caption {
  font-family: 'Source Sans 3', sans-serif;
  font-size: var(--web-text-sm);
  line-height: var(--web-leading-sm);
  font-weight: var(--font-weight-semibold);
}

.text-web-code {
  font-family: 'Spline Sans Mono', monospace;
  font-size: var(--web-mono-sm);
  line-height: var(--web-leading-sm);
  font-weight: var(--font-weight-normal);
}

.text-web-mono {
  font-family: 'Spline Sans Mono', monospace;
  font-size: calc(var(--web-text-base) * 0.9);
  line-height: var(--web-leading-base);
  font-weight: var(--font-weight-normal);
}

/* Extended App Typography Classes */
.text-app-label {
  font-family: 'Source Sans 3', sans-serif;
  font-size: var(--app-text-sm);
  line-height: var(--app-leading-sm);
  font-weight: var(--font-weight-medium);
  opacity: 0.8;
}

.text-app-input {
  font-family: 'Source Sans 3', sans-serif;
  font-size: var(--app-text-base);
  line-height: var(--app-leading-base);
  font-weight: var(--font-weight-normal);
}

.text-app-micro {
  font-family: 'Source Sans 3', sans-serif;
  font-size: var(--app-text-xs);
  line-height: var(--app-leading-xs);
  font-weight: var(--font-weight-normal);
  opacity: 0.8;
}

.text-app-brand {
  font-family: 'EB Garamond', serif;
  font-size: var(--app-text-lg);
  line-height: var(--app-leading-lg);
  font-weight: var(--font-weight-semibold);
}
