
import { SidebarIcons as svgPaths } from '@/assets/icons';

// Icon components
function DeployedCode() {
  return (
    <div className="relative shrink-0 size-6" data-name="deployed_code">
      <svg
        className="block size-full"
        fill="none"
        preserveAspectRatio="none"
        viewBox="0 0 24 24"
      >
        <g id="deployed_code">
          <mask
            height="24"
            id="mask0_1_581"
            maskUnits="userSpaceOnUse"
            style={{ maskType: "alpha" }}
            width="24"
            x="0"
            y="0"
          >
            <rect
              fill="var(--fill-0, #D9D9D9)"
              height="24"
              id="Bounding box"
              width="24"
            />
          </mask>
          <g mask="url(#mask0_1_581)">
            <path
              d={svgPaths.p31951680}
              fill="var(--text-color)"
              id="deployed_code_2"
            />
          </g>
        </g>
      </svg>
    </div>
  );
}

function Map() {
  return (
    <div className="relative shrink-0 size-6" data-name="map">
      <svg
        className="block size-full"
        fill="none"
        preserveAspectRatio="none"
        viewBox="0 0 24 24"
      >
        <g id="map">
          <mask
            height="24"
            id="mask0_1_573"
            maskUnits="userSpaceOnUse"
            style={{ maskType: "alpha" }}
            width="24"
            x="0"
            y="0"
          >
            <rect
              fill="var(--fill-0, #D9D9D9)"
              height="24"
              id="Bounding box"
              width="24"
            />
          </mask>
          <g mask="url(#mask0_1_573)">
            <path
              d={svgPaths.p2bd3e9f0}
              fill="var(--text-color)"
              id="map_2"
            />
          </g>
        </g>
      </svg>
    </div>
  );
}

function Bookmarks() {
  return (
    <div className="relative shrink-0 size-6" data-name="bookmarks">
      <svg
        className="block size-full"
        fill="none"
        preserveAspectRatio="none"
        viewBox="0 0 24 24"
      >
        <g id="bookmarks">
          <mask
            height="24"
            id="mask0_1_559"
            maskUnits="userSpaceOnUse"
            style={{ maskType: "alpha" }}
            width="24"
            x="0"
            y="0"
          >
            <rect
              fill="var(--fill-0, #D9D9D9)"
              height="24"
              id="Bounding box"
              width="24"
            />
          </mask>
          <g mask="url(#mask0_1_559)">
            <path
              d={svgPaths.p265d1e80}
              fill="var(--text-color)"
              id="bookmarks_2"
            />
          </g>
        </g>
      </svg>
    </div>
  );
}

function Diversity4() {
  return (
    <div className="relative shrink-0 size-6" data-name="diversity_4">
      <svg
        className="block size-full"
        fill="none"
        preserveAspectRatio="none"
        viewBox="0 0 24 24"
      >
        <g id="diversity_4">
          <mask
            height="24"
            id="mask0_1_553"
            maskUnits="userSpaceOnUse"
            style={{ maskType: "alpha" }}
            width="24"
            x="0"
            y="0"
          >
            <rect
              fill="var(--fill-0, #D9D9D9)"
              height="24"
              id="Bounding box"
              width="24"
            />
          </mask>
          <g mask="url(#mask0_1_553)">
            <path
              d={svgPaths.p1852c200}
              fill="var(--text-color)"
              id="diversity_4_2"
            />
          </g>
        </g>
      </svg>
    </div>
  );
}

function Tutorial() {
  return (
    <div className="relative shrink-0 size-6" data-name="tutorial">
      <svg
        className="block size-full"
        fill="none"
        preserveAspectRatio="none"
        viewBox="0 0 24 24"
      >
        <g id="tutorial">
          <mask
            height="24"
            id="mask0_1_549"
            maskUnits="userSpaceOnUse"
            style={{ maskType: "alpha" }}
            width="24"
            x="0"
            y="0"
          >
            <rect
              fill="var(--fill-0, #D9D9D9)"
              height="24"
              id="Bounding box"
              width="24"
            />
          </mask>
          <g mask="url(#mask0_1_549)">
            <path
              d={svgPaths.pc57a980}
              fill="var(--text-color)"
              id="school"
            />
          </g>
        </g>
      </svg>
    </div>
  );
}

export function AccountCircle() {
  return (
    <div className="relative shrink-0 size-6" data-name="account_circle">
      <svg
        className="block size-full"
        fill="none"
        preserveAspectRatio="none"
        viewBox="0 0 24 24"
      >
        <g id="account_circle">
          <mask
            height="24"
            id="mask0_1_545"
            maskUnits="userSpaceOnUse"
            style={{ maskType: "alpha" }}
            width="24"
            x="0"
            y="0"
          >
            <rect
              fill="var(--fill-0, #D9D9D9)"
              height="24"
              id="Bounding box"
              width="24"
            />
          </mask>
          <g mask="url(#mask0_1_545)">
            <path
              d={svgPaths.p35bc2300}
              fill="var(--text-color)"
              id="account_circle_2"
            />
          </g>
        </g>
      </svg>
    </div>
  );
}

function ChatBubble() {
  return (
    <div className="relative shrink-0 size-6" data-name="chat_bubble">
      <svg
        className="block size-full"
        fill="none"
        preserveAspectRatio="none"
        viewBox="0 0 24 24"
      >
        <g id="chat_bubble">
          <mask
            height="24"
            id="mask0_1_541"
            maskUnits="userSpaceOnUse"
            style={{ maskType: "alpha" }}
            width="24"
            x="0"
            y="0"
          >
            <rect
              fill="var(--fill-0, #D9D9D9)"
              height="24"
              id="Bounding box"
              width="24"
            />
          </mask>
          <g mask="url(#mask0_1_541)">
            <path
              d={svgPaths.p1bbda200}
              fill="var(--text-color)"
              id="chat_bubble_2"
            />
          </g>
        </g>
      </svg>
    </div>
  );
}

// Button components
function CubeButton({ isActive, onClick, expanded }: { isActive: boolean; onClick: () => void; expanded: boolean }) {
  return (
    <div
      className={`sidebar-button rounded-lg ${isActive ? 'active' : ''}`}
      onClick={onClick}
      data-name="Cube Button"
      style={isActive ? { backgroundColor: 'rgba(181,182,233,0.4)' } : {}}
    >
      <div className="sidebar-button-content">
        <div className="sidebar-button-inner">
          <DeployedCode />
          {expanded && (
            <div className="sidebar-button-text">
              <p>The Box</p>
            </div>
          )}
        </div>
      </div>
    </div>
  );
}

function MapButton({ isActive, onClick, expanded }: { isActive: boolean; onClick: () => void; expanded: boolean }) {
  return (
    <div
      className={`sidebar-button rounded-xl ${isActive ? 'active' : ''}`}
      onClick={onClick}
      data-name="Map Button"
    >
      <div className="sidebar-button-content">
        <div className="sidebar-button-inner">
          <Map />
          {expanded && (
            <div className="sidebar-button-text">
              <p>The Map</p>
            </div>
          )}
        </div>
      </div>
    </div>
  );
}

function SnapshotsButton({ isActive, onClick, expanded }: { isActive: boolean; onClick: () => void; expanded: boolean }) {
  return (
    <div
      className={`sidebar-button rounded-xl ${isActive ? 'active' : ''}`}
      onClick={onClick}
      data-name="Snapshots Button"
    >
      <div className="sidebar-button-content">
        <div className="sidebar-button-inner">
          <Bookmarks />
          {expanded && (
            <div className="sidebar-button-text">
              <p>My Snapshots</p>
            </div>
          )}
        </div>
      </div>
    </div>
  );
}

function CommunityButton({ isActive, onClick, expanded }: { isActive: boolean; onClick: () => void; expanded: boolean }) {
  return (
    <div
      className={`sidebar-button rounded-xl ${isActive ? 'active' : ''}`}
      onClick={onClick}
      data-name="Community Button"
    >
      <div className="sidebar-button-content">
        <div className="sidebar-button-inner">
          <Diversity4 />
          {expanded && (
            <div className="sidebar-button-text">
              <p>Community</p>
            </div>
          )}
        </div>
      </div>
    </div>
  );
}

function TutorialButton({ isActive, onClick, expanded }: { isActive: boolean; onClick: () => void; expanded: boolean }) {
  return (
    <div
      className={`sidebar-button rounded-xl ${isActive ? 'active' : ''}`}
      onClick={onClick}
      data-name="Tutorial Button"
    >
      <div className="sidebar-button-content">
        <div className="sidebar-button-inner">
          <Tutorial />
          {expanded && (
            <div className="sidebar-button-text">
              <p>Tutorial</p>
            </div>
          )}
        </div>
      </div>
    </div>
  );
}

function FeedbackButton({ isActive, onClick, expanded }: { isActive: boolean; onClick: () => void; expanded: boolean }) {
  return (
    <div
      className={`sidebar-button rounded-xl ${isActive ? 'active' : ''}`}
      onClick={onClick}
      data-name="Feedback Button"
    >
      <div className="sidebar-button-content">
        <div className="sidebar-button-inner">
          <ChatBubble />
          {expanded && (
            <div className="sidebar-button-text">
              <p>Feedback</p>
            </div>
          )}
        </div>
      </div>
    </div>
  );
}

function ProfileButton({ isActive, onClick, expanded }: { isActive: boolean; onClick: () => void; expanded: boolean }) {
  return (
    <div
      className={`sidebar-button rounded-xl ${isActive ? 'active' : ''}`}
      onClick={onClick}
      data-name="Profile Button"
    >
      <div className="sidebar-button-content">
        <div className="sidebar-button-inner">
          <AccountCircle />
          {expanded && (
            <div className="sidebar-button-text">
              <p>Profile</p>
            </div>
          )}
        </div>
      </div>
    </div>
  );
}

function SidebarSeparator() {
  return (
    <div className="sidebar-separator">
      <div className="sidebar-separator-line">
        <svg
          className="block size-full"
          fill="none"
          preserveAspectRatio="none"
          viewBox="0 0 48 1"
        >
          <line
            stroke="var(--text-color)"
            strokeOpacity="0.4"
            x2="48"
            y1="0.5"
            y2="0.5"
          />
        </svg>
      </div>
    </div>
  );
}

// Main navigation sections
export function MenuButtons({ onNavigate, currentPage, expanded, onToggleSidebar }: { 
  onNavigate: (page: string) => void; 
  currentPage: string;
  expanded: boolean;
  onToggleSidebar?: () => void;
}) {
  const handleNavigate = (page: string) => {
    onNavigate(page);
    // Close mobile sidebar if it's open
    if (onToggleSidebar && window.innerWidth < 1024) {
      onToggleSidebar();
    }
  };

  return (
    <div className="sidebar-menu-section">
      <CubeButton isActive={currentPage === 'the-box'} onClick={() => handleNavigate('the-box')} expanded={expanded} />
      <SidebarSeparator />
      <MapButton isActive={currentPage === 'the-map'} onClick={() => handleNavigate('the-map')} expanded={expanded} />
      <SidebarSeparator />
      <SnapshotsButton isActive={currentPage === 'my-snapshots'} onClick={() => handleNavigate('my-snapshots')} expanded={expanded} />
      <SidebarSeparator />
      <CommunityButton isActive={currentPage === 'community'} onClick={() => handleNavigate('community')} expanded={expanded} />
    </div>
  );
}

export function TechButtons({ onNavigate, currentPage, expanded, onToggleSidebar }: { 
  onNavigate: (page: string) => void; 
  currentPage: string;
  expanded: boolean;
  onToggleSidebar?: () => void;
}) {
  const handleNavigate = (page: string) => {
    onNavigate(page);
    // Close mobile sidebar if it's open
    if (onToggleSidebar && window.innerWidth < 1024) {
      onToggleSidebar();
    }
  };

  return (
    <div className="sidebar-menu-section">
      <TutorialButton isActive={currentPage === 'tutorial'} onClick={() => handleNavigate('tutorial')} expanded={expanded} />
      <SidebarSeparator />
      <FeedbackButton isActive={currentPage === 'feedback'} onClick={() => handleNavigate('feedback')} expanded={expanded} />
      <SidebarSeparator />
      <ProfileButton isActive={currentPage === 'settings'} onClick={() => handleNavigate('settings')} expanded={expanded} />
    </div>
  );
}
